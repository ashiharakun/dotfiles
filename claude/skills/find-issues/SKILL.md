---
name: find-issues
description: プロジェクトを分析して問題点を見つけ、GitHub issueを作成する
argument-hint: "[スコープ: セキュリティ, パフォーマンス, コード品質, ディレクトリパス など]"
---

プロジェクトを分析し、問題点を見つけてGitHub issueを作成してください。

スコープ指定: $ARGUMENTS

## 手順

1. スコープの確認
   - 引数がない場合はプロジェクト全体を対象とする
   - 引数がパスとして存在する場合はそのディレクトリに絞って分析する
   - 引数がパスとして存在しない場合はトピック（例: security, performance）として扱い、プロジェクト全体をその観点で分析する
   - パスとしてもトピックとしても解釈できる場合はユーザーに確認する
2. `gh issue list` で既存のissueを確認し、重複を避ける
3. `gh label list` で既存のラベルを確認する
4. プロジェクトを分析し、以下の観点で問題点を洗い出す
   - バグ・不具合の可能性
   - セキュリティ上の懸念
   - パフォーマンスの問題
   - コード品質・保守性の課題
   - TODO/FIXME/HACK コメント
5. 見つけた問題を論理的な単位に分割し、一覧をユーザーに提示する
   - 各問題のタイトル、概要、重要度、付与予定のラベルを示す
6. **ユーザーの承認を得てから**issueを作成する
   - ユーザーが取捨選択・修正できるようにする
7. 承認された問題についてissueを作成する
   - タイトルは具体的かつ簡潔に
   - 本文には問題の詳細、該当箇所、改善案を含める
   - 適切なラベルを付与する（既存ラベルを優先し、必要なら新規作成を提案する）

## 注意

- 些細なスタイルの問題や好みの違いはissueにしない
- 1つのissueには1つの問題だけを含め、スコープを明確にする
- issueの粒度はfix-issueコマンドで1PR以内に収まる大きさを目安にする
